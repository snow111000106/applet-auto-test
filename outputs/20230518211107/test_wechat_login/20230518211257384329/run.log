INFO  2023-05-18 21:12:57,386 minitest.py _miniSetUp      341 =========Current case: test_wechat_login=========
INFO  2023-05-18 21:12:57,387 minitest.py _miniSetUp      344 package info: C:.Users.CDS-DN268.PycharmProjects.applet-auto.testcase.test_login, case info: LoginPageTest.test_wechat_login
INFO  2023-05-18 21:12:57,387 basenative.py wrapper         25  call WXAndroidNative.check_connection
INFO  2023-05-18 21:12:57,423 basenative.py wrapper         29  call WXAndroidNative.check_connection end
INFO  2023-05-18 21:12:57,425 basenative.py wrapper         25  call BaseNative.back_to_miniprogram
INFO  2023-05-18 21:12:57,425 basenative.py back_to_miniprogram 550 try back_to_miniprogram 3
DEBUG 2023-05-18 21:12:57,542 androidnative.py _get_current_activity 927     mResumedActivity: ActivityRecord{18b6bf8 u0 com.tencent.mm/.plugin.appbrand.ui.AppBrandUI t96}

INFO  2023-05-18 21:12:57,543 androidnative.py _get_current_activity 932 current activity is com.tencent.mm/.plugin.appbrand.ui.AppBrandUI
INFO  2023-05-18 21:12:57,730 basenative.py wrapper         29  call BaseNative.back_to_miniprogram end
DEBUG 2023-05-18 21:12:57,730 connection.py _safely_send    417 ASYNC_SEND > {"id":"89112d10-ac7b-42f7-a994-ff7169ecc7bb","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
DEBUG 2023-05-18 21:12:58,234 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"path":"pages/index/index","rawPath":"pages/index/index.html","query":{},"openType":"switchTab","__ts__":1684415578588,"webviewId":31295596},1684415578598]}}
INFO  2023-05-18 21:12:58,235 app.py     _on_route_changed 785 Route changed, {'name': 'onAppRouteDone', 'args': [{'path': 'pages/index/index', 'rawPath': 'pages/index/index.html', 'query': {}, 'openType': 'switchTab', '__ts__': 1684415578588, 'webviewId': 31295596}, 1684415578598]}
DEBUG 2023-05-18 21:12:58,236 connection.py _on_message     652 RECV < {"id":"89112d10-ac7b-42f7-a994-ff7169ecc7bb","result":{"result":{"errMsg":"switchTab:ok"}}}
INFO  2023-05-18 21:12:58,237 connection.py _handle_async_msg 688 received async msg: 89112d10-ac7b-42f7-a994-ff7169ecc7bb
INFO  2023-05-18 21:12:58,239 minitest.py capture         673 capture setup.png
INFO  2023-05-18 21:12:58,239 basenative.py wrapper         25  call WXAndroidNative.screen_shot
INFO  2023-05-18 21:12:58,599 basenative.py wrapper         29  call WXAndroidNative.screen_shot end
INFO  2023-05-18 21:12:58,601 minitest.py _miniSetUp      394 =========case: test_wechat_login start=========
INFO  2023-05-18 21:12:58,602 app.py     navigate_to     522 NavigateTo: /pages/common/login/index
DEBUG 2023-05-18 21:12:58,602 connection.py _safely_send    417 ASYNC_SEND > {"id":"bc496b67-8949-42ef-a8b0-48a156080cc3","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/common/login/index"}]}}
INFO  2023-05-18 21:12:59,128 basenative.py wrapper         28  WXAndroidNative.allow_authorize return False
INFO  2023-05-18 21:12:59,129 basenative.py wrapper         29  call WXAndroidNative.allow_authorize end
DEBUG 2023-05-18 21:12:59,702 connection.py _on_message     652 RECV < {"id":"bc496b67-8949-42ef-a8b0-48a156080cc3","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-05-18 21:12:59,703 connection.py _handle_async_msg 688 received async msg: bc496b67-8949-42ef-a8b0-48a156080cc3
DEBUG 2023-05-18 21:13:00,123 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"path":"pages/common/login/index","rawPath":"pages/common/login/index.html","query":{},"openType":"navigateTo","__ts__":1684415580119,"webviewId":261591766},1684415580137]}}
DEBUG 2023-05-18 21:13:00,125 connection.py _safely_send    417 SEND > {"id":"f8b455af-9562-444f-ae76-b73b98e85400","method":"App.getCurrentPage","params":{}}
INFO  2023-05-18 21:13:00,126 app.py     _on_route_changed 785 Route changed, {'name': 'onAppRouteDone', 'args': [{'path': 'pages/common/login/index', 'rawPath': 'pages/common/login/index.html', 'query': {}, 'openType': 'navigateTo', '__ts__': 1684415580119, 'webviewId': 261591766}, 1684415580137]}
DEBUG 2023-05-18 21:13:00,145 basenative.py __op_auto_authorize 727 after auto_authorize_callback, True. flag: True
DEBUG 2023-05-18 21:13:00,529 connection.py _on_message     652 RECV < {"id":"f8b455af-9562-444f-ae76-b73b98e85400","result":{"pageId":261591766,"path":"pages/common/login/index","query":{}}}
DEBUG 2023-05-18 21:13:00,530 connection.py _safely_send    417 SEND > {"id":"3457a83b-ad7a-48ed-9e03-fd8523d2ca7a","method":"App.getCurrentPage","params":{}}
DEBUG 2023-05-18 21:13:00,819 connection.py _on_message     652 RECV < {"id":"3457a83b-ad7a-48ed-9e03-fd8523d2ca7a","result":{"pageId":261591766,"path":"pages/common/login/index","query":{}}}
INFO  2023-05-18 21:13:00,820 page.py    _get_elements_by_css 559 try to get elements: button
DEBUG 2023-05-18 21:13:00,822 connection.py _safely_send    417 SEND > {"id":"c349a174-2728-4750-ab33-57aafbef3ec4","method":"Page.getElements","params":{"selector":"button","pageId":261591766}}
DEBUG 2023-05-18 21:13:02,339 connection.py _on_message     652 RECV < {"id":"c349a174-2728-4750-ab33-57aafbef3ec4","result":{"elements":[{"elementId":"82771eb0-5a1b-4fdd-a134-2030a94a7df0","tagName":"button"},{"elementId":"ecbbfac5-9da0-40be-a493-57af196750df","tagName":"button"}]}}
INFO  2023-05-18 21:13:02,341 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000014E52D81550>, <minium.miniprogram.base_driver.element.BaseElement object at 0x0000014E53047400>]
DEBUG 2023-05-18 21:13:02,342 connection.py _safely_send    417 SEND > {"id":"260177c7-4000-4fe2-a50d-3aaa77a741c1","method":"Element.getDOMProperties","params":{"names":["innerText"],"elementId":"82771eb0-5a1b-4fdd-a134-2030a94a7df0","pageId":261591766}}
DEBUG 2023-05-18 21:13:02,808 connection.py _on_message     652 RECV < {"id":"260177c7-4000-4fe2-a50d-3aaa77a741c1","result":{"properties":["微信登录/注册"]}}
DEBUG 2023-05-18 21:13:02,810 connection.py _safely_send    417 SEND > {"id":"1f44694c-c086-4b0d-a210-101dda308e69","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"82771eb0-5a1b-4fdd-a134-2030a94a7df0","pageId":261591766}}
DEBUG 2023-05-18 21:13:03,525 connection.py _on_message     652 RECV < {"id":"1f44694c-c086-4b0d-a210-101dda308e69","result":{"styles":["auto"]}}
DEBUG 2023-05-18 21:13:03,527 connection.py _safely_send    417 SEND > {"id":"e87f7f29-c29e-4207-8c55-8371c8db5d74","method":"Element.tap","params":{"elementId":"82771eb0-5a1b-4fdd-a134-2030a94a7df0","pageId":261591766}}
DEBUG 2023-05-18 21:13:04,598 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"getUserProfile_super_after","args":[null]}}
DEBUG 2023-05-18 21:13:04,601 app.py     super_after     902 wx.getUserProfile after hook result: [None]
INFO  2023-05-18 21:13:04,602 basenative.py wrapper         25  call BaseNative.notify
DEBUG 2023-05-18 21:13:04,603 basenative.py notify          625 receive a notify signal
INFO  2023-05-18 21:13:04,604 basenative.py wrapper         29  call BaseNative.notify end
DEBUG 2023-05-18 21:13:04,604 basenative.py __op_auto_authorize 725 before auto_authorize_callback
INFO  2023-05-18 21:13:04,605 basenative.py wrapper         25  call WXAndroidNative.allow_authorize
DEBUG 2023-05-18 21:13:04,606 androidnative.py _handle_btn     341 handle android.widget.Button[允许]
DEBUG 2023-05-18 21:13:04,653 connection.py _on_message     652 RECV < {"id":"e87f7f29-c29e-4207-8c55-8371c8db5d74","result":{}}
INFO  2023-05-18 21:13:04,654 basenative.py wrapper         25  call BaseNative.notify
DEBUG 2023-05-18 21:13:04,655 basenative.py notify          625 receive a notify signal
INFO  2023-05-18 21:13:04,656 basenative.py wrapper         29  call BaseNative.notify end
INFO  2023-05-18 21:13:08,682 minitest.py capture         673 capture assertEqual-failed.png
INFO  2023-05-18 21:13:08,682 basenative.py wrapper         25  call WXAndroidNative.screen_shot
INFO  2023-05-18 21:13:08,990 basenative.py wrapper         29  call WXAndroidNative.screen_shot end
DEBUG 2023-05-18 21:13:08,992 connection.py _safely_send    417 SEND > {"id":"0eab94c5-e19c-46c6-874f-1703c1193066","method":"Page.getElementByXpath","params":{"selector":"/*","pageId":261591766}}
DEBUG 2023-05-18 21:13:09,893 connection.py _on_message     652 RECV < {"id":"0eab94c5-e19c-46c6-874f-1703c1193066","result":{"elementId":"1a8778bf-3a01-4efb-acb7-48555bee11db","tagName":"view"}}
DEBUG 2023-05-18 21:13:09,894 connection.py _safely_send    417 SEND > {"id":"2ee02647-b344-45f8-a3f6-04ffcd9b8cc4","method":"Element.getWXML","params":{"type":"outer","elementId":"1a8778bf-3a01-4efb-acb7-48555bee11db","pageId":261591766}}
INFO  2023-05-18 21:13:10,250 basenative.py wrapper         28  WXAndroidNative.allow_authorize return False
INFO  2023-05-18 21:13:10,251 basenative.py wrapper         29  call WXAndroidNative.allow_authorize end
DEBUG 2023-05-18 21:13:10,365 connection.py _on_message     650 RECV < {"id":"2ee02647-b344-45f8-a3f6-04ffcd9b8cc4","result":{"wxml":"<view class=\"page relative flex full justify-content-center align-items-center flex-direction-column data-v-302723e3\"><view class=\"bg flex flex-direction-column align-items-center justify-content-center data-v-302723e3\"><view class=\"icon data-v-302723e3\"></view><text class=\"fs36 c202629 font-weight-300 data-v-302723e3\">营销种草，用蝉小红</text><text class=\"fs24 c979495 font-weight-400 data-v-302723e3\">chanxiaohong.com</text></view><view clas...
DEBUG 2023-05-18 21:13:10,367 connection.py _safely_send    417 ASYNC_SEND > {"id":"7abdbc48-cef1-436c-bb79-dcd29d536f22","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
DEBUG 2023-05-18 21:13:11,267 basenative.py __op_auto_authorize 727 after auto_authorize_callback, True. flag: True
DEBUG 2023-05-18 21:13:11,767 connection.py _on_message     652 RECV < {"id":"7abdbc48-cef1-436c-bb79-dcd29d536f22","result":{"result":{"errMsg":"switchTab:ok"}}}
INFO  2023-05-18 21:13:11,767 connection.py _handle_async_msg 688 received async msg: 7abdbc48-cef1-436c-bb79-dcd29d536f22
DEBUG 2023-05-18 21:13:11,868 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"path":"pages/index/index","rawPath":"pages/index/index.html","query":{},"openType":"switchTab","__ts__":1684415591710,"webviewId":31295596},1684415591725]}}
INFO  2023-05-18 21:13:11,870 app.py     _on_route_changed 785 Route changed, {'name': 'onAppRouteDone', 'args': [{'path': 'pages/index/index', 'rawPath': 'pages/index/index.html', 'query': {}, 'openType': 'switchTab', '__ts__': 1684415591710, 'webviewId': 31295596}, 1684415591725]}
DEBUG 2023-05-18 21:13:11,871 minitest.py _miniTearDown   587 =========Current case Down: test_wechat_login=========
INFO  2023-05-18 21:13:11,872 minitest.py capture         673 capture teardown.png
INFO  2023-05-18 21:13:11,873 basenative.py wrapper         25  call WXAndroidNative.screen_shot
INFO  2023-05-18 21:13:12,258 basenative.py wrapper         29  call WXAndroidNative.screen_shot end
INFO  2023-05-18 21:13:12,259 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-05-18 21:13:12,261 basenative.py wrapper         29  call BaseNative.get_start_up end
ERROR 2023-05-18 21:13:12,262 assertbase.py _get_stack_info 342 <bound method LoginPageTest.test_wechat_login of <testcase.test_login.LoginPageTest testMethod=test_wechat_login>>
Traceback (most recent call last):
  File "C:\Users\CDS-DN268\PycharmProjects\applet-auto\venv\lib\site-packages\minium\framework\libs\unittest\case.py", line 41, in testPartExecutor
    yield
  File "C:\Users\CDS-DN268\PycharmProjects\applet-auto\venv\lib\site-packages\minium\framework\libs\unittest\case.py", line 127, in run
    self._callTestMethod(testMethod)
AssertionError: '/pages/common/login/index' != '/pages/user/index'
- /pages/common/login/index
+ /pages/user/index

