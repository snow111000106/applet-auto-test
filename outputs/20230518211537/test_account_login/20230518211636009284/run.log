INFO  2023-05-18 21:16:36,012 minitest.py _miniSetUp      341 =========Current case: test_account_login=========
INFO  2023-05-18 21:16:36,012 minitest.py _miniSetUp      344 package info: C:.Users.CDS-DN268.PycharmProjects.applet-auto.testcase.test_login, case info: LoginPageTest.test_account_login
INFO  2023-05-18 21:16:36,013 basenative.py wrapper         25  call WXAndroidNative.check_connection
INFO  2023-05-18 21:16:36,045 basenative.py wrapper         29  call WXAndroidNative.check_connection end
INFO  2023-05-18 21:16:36,046 basenative.py wrapper         25  call BaseNative.back_to_miniprogram
INFO  2023-05-18 21:16:36,046 basenative.py back_to_miniprogram 550 try back_to_miniprogram 3
DEBUG 2023-05-18 21:16:36,205 androidnative.py _get_current_activity 927     mResumedActivity: ActivityRecord{96403c3 u0 com.tencent.mm/.plugin.appbrand.ui.AppBrandUI2 t101}

INFO  2023-05-18 21:16:36,206 androidnative.py _get_current_activity 932 current activity is com.tencent.mm/.plugin.appbrand.ui.AppBrandUI2
INFO  2023-05-18 21:16:36,378 basenative.py wrapper         29  call BaseNative.back_to_miniprogram end
DEBUG 2023-05-18 21:16:36,379 connection.py _safely_send    417 ASYNC_SEND > {"id":"e9cc0c6b-2f86-4f67-a995-a5b3b5f7d5b0","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
DEBUG 2023-05-18 21:16:36,936 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"path":"pages/index/index","rawPath":"pages/index/index.html","query":{},"openType":"switchTab","__ts__":1684415797245,"webviewId":140533919},1684415797256]}}
INFO  2023-05-18 21:16:36,938 app.py     _on_route_changed 785 Route changed, {'name': 'onAppRouteDone', 'args': [{'path': 'pages/index/index', 'rawPath': 'pages/index/index.html', 'query': {}, 'openType': 'switchTab', '__ts__': 1684415797245, 'webviewId': 140533919}, 1684415797256]}
DEBUG 2023-05-18 21:16:36,938 connection.py _on_message     652 RECV < {"id":"e9cc0c6b-2f86-4f67-a995-a5b3b5f7d5b0","result":{"result":{"errMsg":"switchTab:ok"}}}
INFO  2023-05-18 21:16:36,939 connection.py _handle_async_msg 688 received async msg: e9cc0c6b-2f86-4f67-a995-a5b3b5f7d5b0
INFO  2023-05-18 21:16:36,941 minitest.py capture         673 capture setup.png
INFO  2023-05-18 21:16:36,942 basenative.py wrapper         25  call WXAndroidNative.screen_shot
INFO  2023-05-18 21:16:37,295 basenative.py wrapper         29  call WXAndroidNative.screen_shot end
INFO  2023-05-18 21:16:37,296 minitest.py _miniSetUp      394 =========case: test_account_login start=========
INFO  2023-05-18 21:16:37,296 app.py     navigate_to     522 NavigateTo: /pages/common/login/index
DEBUG 2023-05-18 21:16:37,297 connection.py _safely_send    417 ASYNC_SEND > {"id":"d9e2da0e-87db-4196-a8ce-d8647bf3a4de","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/common/login/index"}]}}
DEBUG 2023-05-18 21:16:38,367 connection.py _on_message     652 RECV < {"id":"d9e2da0e-87db-4196-a8ce-d8647bf3a4de","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-05-18 21:16:38,368 connection.py _handle_async_msg 688 received async msg: d9e2da0e-87db-4196-a8ce-d8647bf3a4de
DEBUG 2023-05-18 21:16:38,708 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"path":"pages/common/login/index","rawPath":"pages/common/login/index.html","query":{},"openType":"navigateTo","__ts__":1684415799005,"webviewId":-894632826},1684415799023]}}
INFO  2023-05-18 21:16:38,709 app.py     _on_route_changed 785 Route changed, {'name': 'onAppRouteDone', 'args': [{'path': 'pages/common/login/index', 'rawPath': 'pages/common/login/index.html', 'query': {}, 'openType': 'navigateTo', '__ts__': 1684415799005, 'webviewId': -894632826}, 1684415799023]}
INFO  2023-05-18 21:16:38,710 app.py     navigate_to     522 NavigateTo: /pages/common/login/login
DEBUG 2023-05-18 21:16:38,711 connection.py _safely_send    417 ASYNC_SEND > {"id":"ae3bb12b-ef07-42ce-9fce-8b0704efa73d","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/common/login/login"}]}}
DEBUG 2023-05-18 21:16:39,841 connection.py _on_message     652 RECV < {"id":"ae3bb12b-ef07-42ce-9fce-8b0704efa73d","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-05-18 21:16:39,842 connection.py _handle_async_msg 688 received async msg: ae3bb12b-ef07-42ce-9fce-8b0704efa73d
DEBUG 2023-05-18 21:16:40,271 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"path":"pages/common/login/login","rawPath":"pages/common/login/login.html","query":{},"openType":"navigateTo","__ts__":1684415800703,"webviewId":-363147335},1684415800716]}}
INFO  2023-05-18 21:16:40,272 app.py     _on_route_changed 785 Route changed, {'name': 'onAppRouteDone', 'args': [{'path': 'pages/common/login/login', 'rawPath': 'pages/common/login/login.html', 'query': {}, 'openType': 'navigateTo', '__ts__': 1684415800703, 'webviewId': -363147335}, 1684415800716]}
DEBUG 2023-05-18 21:16:40,272 connection.py _safely_send    417 SEND > {"id":"57f60852-400d-4f0c-81f6-f44e41816c5d","method":"App.getCurrentPage","params":{}}
DEBUG 2023-05-18 21:16:40,834 connection.py _on_message     652 RECV < {"id":"57f60852-400d-4f0c-81f6-f44e41816c5d","result":{"pageId":-363147335,"path":"pages/common/login/login","query":{}}}
INFO  2023-05-18 21:16:40,835 page.py    _get_elements_by_css 559 try to get elements: [placeholder='请输入手机号']
DEBUG 2023-05-18 21:16:40,836 connection.py _safely_send    417 SEND > {"id":"fa31245e-e625-4ecd-b244-06bf9d9d7ada","method":"Page.getElements","params":{"selector":"[placeholder='\u8bf7\u8f93\u5165\u624b\u673a\u53f7']","pageId":-363147335}}
INFO  2023-05-18 21:16:41,215 basenative.py wrapper         28  WXAndroidNative.allow_authorize return False
INFO  2023-05-18 21:16:41,216 basenative.py wrapper         29  call WXAndroidNative.allow_authorize end
DEBUG 2023-05-18 21:16:42,229 basenative.py __op_auto_authorize 727 after auto_authorize_callback, True. flag: True
DEBUG 2023-05-18 21:16:48,134 connection.py _on_message     652 RECV < {"id":"fa31245e-e625-4ecd-b244-06bf9d9d7ada","result":{"elements":[{"elementId":"802c0cd9-62b6-4f7e-b1ea-bafcbcd66daf","tagName":"input"}]}}
INFO  2023-05-18 21:16:48,136 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001D60F7B4160>]
DEBUG 2023-05-18 21:16:48,136 connection.py _safely_send    417 SEND > {"id":"768d6e3f-2658-4348-a72e-254b235b81ca","method":"Element.callFunction","params":{"functionName":"input.input","args":["13100000001"],"elementId":"802c0cd9-62b6-4f7e-b1ea-bafcbcd66daf","pageId":-363147335}}
DEBUG 2023-05-18 21:16:51,384 connection.py _on_message     652 RECV < {"id":"768d6e3f-2658-4348-a72e-254b235b81ca","result":{}}
DEBUG 2023-05-18 21:16:51,385 connection.py _safely_send    417 SEND > {"id":"12450312-9051-429e-9c40-40e83762162c","method":"App.getCurrentPage","params":{}}
DEBUG 2023-05-18 21:16:51,974 connection.py _on_message     652 RECV < {"id":"12450312-9051-429e-9c40-40e83762162c","result":{"pageId":-363147335,"path":"pages/common/login/login","query":{}}}
INFO  2023-05-18 21:16:51,975 page.py    _get_elements_by_css 559 try to get elements: [placeholder='请输入密码']
DEBUG 2023-05-18 21:16:51,975 connection.py _safely_send    417 SEND > {"id":"7c3f247b-d450-4f76-bfe8-59174874d576","method":"Page.getElements","params":{"selector":"[placeholder='\u8bf7\u8f93\u5165\u5bc6\u7801']","pageId":-363147335}}
DEBUG 2023-05-18 21:16:52,481 connection.py _on_message     652 RECV < {"id":"7c3f247b-d450-4f76-bfe8-59174874d576","result":{"elements":[{"elementId":"1041d727-65d2-4e4c-94bf-95b2670957a9","tagName":"input"}]}}
INFO  2023-05-18 21:16:52,482 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001D60F7B47F0>]
DEBUG 2023-05-18 21:16:52,482 connection.py _safely_send    417 SEND > {"id":"e1a180cf-527d-4e30-8add-ec84db4a9969","method":"Element.callFunction","params":{"functionName":"input.input","args":["123456"],"elementId":"1041d727-65d2-4e4c-94bf-95b2670957a9","pageId":-363147335}}
DEBUG 2023-05-18 21:16:52,884 connection.py _on_message     652 RECV < {"id":"e1a180cf-527d-4e30-8add-ec84db4a9969","result":{}}
DEBUG 2023-05-18 21:16:52,885 connection.py _safely_send    417 SEND > {"id":"5a07fc88-5432-4fe9-a7f4-084d9c25d7b7","method":"App.getCurrentPage","params":{}}
DEBUG 2023-05-18 21:16:53,163 connection.py _on_message     652 RECV < {"id":"5a07fc88-5432-4fe9-a7f4-084d9c25d7b7","result":{"pageId":-363147335,"path":"pages/common/login/login","query":{}}}
DEBUG 2023-05-18 21:16:53,164 connection.py _safely_send    417 SEND > {"id":"d80854d4-0e0b-49dd-bbd2-8dc5158c8877","method":"Page.getElementByXpath","params":{"selector":"/view/view[3]/button","pageId":-363147335}}
DEBUG 2023-05-18 21:16:54,956 connection.py _on_message     652 RECV < {"id":"d80854d4-0e0b-49dd-bbd2-8dc5158c8877","result":{"elementId":"9350917b-6425-4907-936d-085e3128e647","tagName":"button"}}
DEBUG 2023-05-18 21:16:54,957 connection.py _safely_send    417 SEND > {"id":"d1e6480b-9245-4eb7-a8ec-08aca0a5fdca","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"9350917b-6425-4907-936d-085e3128e647","pageId":-363147335}}
DEBUG 2023-05-18 21:16:55,296 connection.py _on_message     652 RECV < {"id":"d1e6480b-9245-4eb7-a8ec-08aca0a5fdca","result":{"styles":["auto"]}}
DEBUG 2023-05-18 21:16:55,297 connection.py _safely_send    417 SEND > {"id":"c5b47ff6-9b32-4cf7-ae59-390a9c502138","method":"Element.tap","params":{"elementId":"9350917b-6425-4907-936d-085e3128e647","pageId":-363147335}}
DEBUG 2023-05-18 21:16:55,577 connection.py _on_message     652 RECV < {"id":"c5b47ff6-9b32-4cf7-ae59-390a9c502138","result":{}}
INFO  2023-05-18 21:16:55,578 basenative.py wrapper         25  call BaseNative.notify
DEBUG 2023-05-18 21:16:55,579 basenative.py notify          625 receive a notify signal
INFO  2023-05-18 21:16:55,579 basenative.py wrapper         29  call BaseNative.notify end
DEBUG 2023-05-18 21:16:55,579 basenative.py __op_auto_authorize 725 before auto_authorize_callback
INFO  2023-05-18 21:16:55,580 basenative.py wrapper         25  call WXAndroidNative.allow_authorize
DEBUG 2023-05-18 21:16:55,580 androidnative.py _handle_btn     341 handle android.widget.Button[允许]
INFO  2023-05-18 21:16:59,619 minitest.py capture         673 capture assertEqual-failed.png
INFO  2023-05-18 21:16:59,619 basenative.py wrapper         25  call WXAndroidNative.screen_shot
INFO  2023-05-18 21:17:00,255 basenative.py wrapper         29  call WXAndroidNative.screen_shot end
DEBUG 2023-05-18 21:17:00,256 connection.py _safely_send    417 SEND > {"id":"af1b64b4-34bf-4e87-acab-42ad9f8b7716","method":"Page.getElementByXpath","params":{"selector":"/*","pageId":-363147335}}
DEBUG 2023-05-18 21:17:00,442 connection.py _on_message     652 RECV < {"id":"af1b64b4-34bf-4e87-acab-42ad9f8b7716","result":{"elementId":"a81a0151-82d6-4763-9f7e-9217cacd9c0a","tagName":"view"}}
DEBUG 2023-05-18 21:17:00,443 connection.py _safely_send    417 SEND > {"id":"987ca865-19cd-47d4-b9d8-58eefb8e38de","method":"Element.getWXML","params":{"type":"outer","elementId":"a81a0151-82d6-4763-9f7e-9217cacd9c0a","pageId":-363147335}}
DEBUG 2023-05-18 21:17:00,690 connection.py _on_message     650 RECV < {"id":"987ca865-19cd-47d4-b9d8-58eefb8e38de","result":{"wxml":"<view class=\"page data-v-a774d73a\"><view class=\"c202629 fs48 font-weight-bold mt70 data-v-a774d73a\">账号密码登录</view><view class=\"form mt80 data-v-a774d73a\"><view class=\"input-box b-b _div data-v-a774d73a\"><u-input is=\"node-modules/uview-ui/components/u-input/u-input\" class=\"input data-v-a774d73a\" data-event-opts=\"^input,__set_model,$0,username,$event,,formData\"><view class=\"u-input input--u-input data-v-e92d86c6 input--data-v-e92d...
DEBUG 2023-05-18 21:17:00,692 connection.py _safely_send    417 ASYNC_SEND > {"id":"cd68407a-9b69-4715-b393-4cd941951889","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
INFO  2023-05-18 21:17:01,393 basenative.py wrapper         28  WXAndroidNative.allow_authorize return False
INFO  2023-05-18 21:17:01,394 basenative.py wrapper         29  call WXAndroidNative.allow_authorize end
DEBUG 2023-05-18 21:17:01,474 connection.py _on_message     652 RECV < {"id":"cd68407a-9b69-4715-b393-4cd941951889","result":{"result":{"errMsg":"switchTab:ok"}}}
INFO  2023-05-18 21:17:01,475 connection.py _handle_async_msg 688 received async msg: cd68407a-9b69-4715-b393-4cd941951889
DEBUG 2023-05-18 21:17:02,174 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"path":"pages/index/index","rawPath":"pages/index/index.html","query":{},"openType":"switchTab","__ts__":1684415822103,"webviewId":140533919},1684415822114]}}
INFO  2023-05-18 21:17:02,175 app.py     _on_route_changed 785 Route changed, {'name': 'onAppRouteDone', 'args': [{'path': 'pages/index/index', 'rawPath': 'pages/index/index.html', 'query': {}, 'openType': 'switchTab', '__ts__': 1684415822103, 'webviewId': 140533919}, 1684415822114]}
DEBUG 2023-05-18 21:17:02,175 minitest.py _miniTearDown   587 =========Current case Down: test_account_login=========
INFO  2023-05-18 21:17:02,176 minitest.py capture         673 capture teardown.png
INFO  2023-05-18 21:17:02,176 basenative.py wrapper         25  call WXAndroidNative.screen_shot
DEBUG 2023-05-18 21:17:02,399 basenative.py __op_auto_authorize 727 after auto_authorize_callback, True. flag: True
INFO  2023-05-18 21:17:02,511 basenative.py wrapper         29  call WXAndroidNative.screen_shot end
INFO  2023-05-18 21:17:02,511 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-05-18 21:17:02,512 basenative.py wrapper         29  call BaseNative.get_start_up end
ERROR 2023-05-18 21:17:02,515 assertbase.py _get_stack_info 342 <bound method LoginPageTest.test_account_login of <testcase.test_login.LoginPageTest testMethod=test_account_login>>
Traceback (most recent call last):
  File "C:\Users\CDS-DN268\PycharmProjects\applet-auto\venv\lib\site-packages\minium\framework\libs\unittest\case.py", line 41, in testPartExecutor
    yield
  File "C:\Users\CDS-DN268\PycharmProjects\applet-auto\venv\lib\site-packages\minium\framework\libs\unittest\case.py", line 127, in run
    self._callTestMethod(testMethod)
  File "D:\python39\lib\unittest\case.py", line 550, in _callTestMethod
    method()
  File "C:\Users\CDS-DN268\PycharmProjects\applet-auto\testcase\test_login.py", line 55, in test_account_login
    self.assertEqual(path, route.user_page)
  File "C:\Users\CDS-DN268\PycharmProjects\applet-auto\venv\lib\site-packages\minium\framework\assertbase.py", line 57, in hook_assert
    return src(self, *args, **kwargs)
  File "D:\python39\lib\unittest\case.py", line 837, in assertEqual
    assertion_func(first, second, msg=msg)
  File "C:\Users\CDS-DN268\PycharmProjects\applet-auto\venv\lib\site-packages\minium\framework\assertbase.py", line 57, in hook_assert
    return src(self, *args, **kwargs)
  File "D:\python39\lib\unittest\case.py", line 1217, in assertMultiLineEqual
    self.fail(self._formatMessage(msg, standardMsg))
  File "D:\python39\lib\unittest\case.py", line 676, in fail
    raise self.failureException(msg)
AssertionError: '/pages/common/login/login' != '/pages/user/index'
- /pages/common/login/login
+ /pages/user/index

